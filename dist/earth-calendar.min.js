/*! earth-calendar v0.1.2 BUILT: Sun Oct 31 2021 15:18:38 GMT-0400 (Eastern Daylight Time) */var EarthCalendar=function(e,t,a){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function o(e,t,a){var n=Math.atan(Math.tan(e)*t/a),o=Math.ceil(e/(Math.PI/2));return 2===o||3===o?n+=Math.PI:4===o&&(n+=2*Math.PI),n}var r={2021:["2021-01-19T20:39:00Z","2021-02-18T10:43:00Z","2021-03-20T09:37:00Z","2021-04-19T20:33:00Z","2021-05-20T19:37:00Z","2021-06-21T03:32:00Z","2021-07-22T14:26:00Z","2021-08-22T21:34:00Z","2021-09-22T19:21:00Z","2021-10-23T04:51:00Z","2021-11-22T02:33:00Z","2021-12-21T15:59:00Z","2021-01-02T13:51:00Z","2021-07-05T22:27:00Z"],2022:["2022-01-20T02:39:00Z","2022-02-18T16:42:00Z","2022-03-20T15:33:00Z","2022-04-20T02:24:00Z","2022-05-21T01:22:00Z","2022-06-21T09:13:00Z","2022-07-22T20:06:00Z","2022-08-23T03:16:00Z","2022-09-23T01:03:00Z","2022-10-23T10:35:00Z","2022-11-22T08:20:00Z","2022-12-21T21:48:00Z","2022-01-04T06:55:00Z","2022-07-04T07:11:00Z"]};function i(e,t,a,n,r,i,l,T,w){for(var c=0,u=0;u<=t;u++,n-=r)c=o(n,i,l),e.push([n,c,T+Math.cos(c)*i,w+Math.sin(c)*l,1===a.getDate()?1:0]),a.setDate(a.getDate()+1)}function l(e,t,a,n,o,r,l,T){for(var w=function(e){return[new Date(e[0]).getTime(),new Date(e[1]).getTime(),new Date(e[2]).getTime(),new Date(e[3]).getTime(),new Date(e[4]).getTime(),new Date(e[5]).getTime(),new Date(e[6]).getTime(),new Date(e[7]).getTime(),new Date(e[8]).getTime(),new Date(e[9]).getTime(),new Date(e[10]).getTime(),new Date(e[11]).getTime(),new Date(e[12]).getTime(),new Date(e[13]).getTime()]}(t),c=new Date(e,0,1),u=c.getTime(),h=new Date(e+1,0,1),g=h.getTime(),d=g-w[11],f=w[12]-u,D=n*f/(d+f),Z=Math.PI+D,m=1,s=a[m][0],M=[],v=u,p=u,P=null,I=null,y=0,b=0,j=0,k=0,_=0,x=0,S=c,C=0,F=0,G=0;G<12;G++){for(y=w[G],P=new Date(y),C=(p-v)/(j=y-v),F=(y-(b=(I=new Date(P.getFullYear(),P.getMonth(),P.getDate())).getTime()))/j,k=Z-s;k<0;)k+=2*Math.PI;_=k-k*C-k*F,i(M,x=Math.round((b-p)/864e5),S,Z-=k*C,_/x,o,r,l,T),Z=s,m+=1,s=a[m%=12][0],I.setDate(I.getDate()+1),p=I.getTime(),v=y}for(y=g,h.setDate(h.getDate()-1),b=h.getTime(),C=(p-v)/(j=y-v),F=864e5/j,k=Z-(s=Math.PI+D);k<0;)k+=2*Math.PI;return _=k-k*C-k*F,i(M,x=Math.round((b-p)/864e5),S,Z-=k*C,_/x,o,r,l,T),console.log(M),M}var T=n(a).default;var w={__proto__:null,drawCalendar:function(e){var a,n,i=document.querySelector(e),w=i.clientWidth,c=Math.max(i.clientHeight,.8*w),u=w/2,h=c/2,g=Math.round(w/30),d=w/450,f=.75*g,D=t.SVG().addTo(e).size(w,c),Z=w-2*g,m=c-2*g,s=Z-2*f,M=m-2*f,v=Z/2,p=m/2,P=(new Date).getFullYear(),I=(a=P)%4==0&&a%100!=0||a%400==0?366:365,y=r[P],b=new Date(y[11]),j=new Date(y[12]),k=b.getTime(),_=360*((j.getTime()+864e5*I-k)/864e5)/I,x=_*Math.PI/180,S=_,C=function(e,t,a,n,r){for(var i=new Array(12),l=Math.PI/6,T=Math.PI+e,w=T,c=0;c<12;c++,T-=l)T<0&&(T+=2*Math.PI),w=o(T,t,a),i[c]=[T,w,n+Math.cos(w)*t,r+Math.sin(w)*a];return i}(x,v,p,u,h),F=D.group(),G=l(P,y,C,x,v,p,u,h),V=(n=window.location.protocol+"//"+window.location.hostname,window.location.port&&(n+=":"+window.location.port),n);T.ajax({url:V+"/wp-json/wp/v2/year"}).done((function(e){for(var t=0,a=0;a<e.length;a++)if(e[a].slug==P){t=e[a].id;break}T.ajax({url:V+"/wp-json/wp/v2/calendar_date?year="+t})}));for(var Y=0;Y<G.length;Y++)1===G[Y][4]?F.line(u,h,G[Y][2],G[Y][3]).stroke({width:d/2,color:"#c54"}):F.line(u,h,G[Y][2],G[Y][3]).stroke({width:d/2,color:"#bbb"});F.ellipse(Z,m).stroke({width:d,color:"#333"}).fill("none").move(g,g),F.ellipse(s,M).stroke({width:d,color:"#333"}).fill("none").move(g+f,g+f);for(var q=0;q<6;q++){var z=C[q],A=C[q+6];F.line(z[2],z[3],A[2],A[3]).stroke({width:d,color:"#37b"})}return F.circle(c/5).stroke({width:d,color:"#643"}).fill("#f9f3df").attr({cx:u-w/4,cy:h}),F.transform({rotate:-S}),D}};return e.calendar=w,Object.defineProperty(e,"__esModule",{value:!0}),e}({},SVG,jQuery);
//# sourceMappingURL=earth-calendar.min.js.map
